/**!
 * FlexSearch.js v0.7.22 (Compact)
 * Copyright 2018-2021 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/flexsearch
 */
(function(self){'use strict';var t;function v(a){return"undefined"!==typeof a?a:!0}function w(a){const b=Array(a);for(let c=0;c<a;c++)b[c]=y();return b}function y(){return Object.create(null)}function B(a){return"string"===typeof a}function D(a){return"object"===typeof a};function E(a,b){var c=aa;if(a&&(b&&(a=F(a,b)),this.G&&(a=F(a,this.G)),this.H&&1<a.length&&(a=F(a,this.H)),c||""===c)){a=a.split(c);if(this.filter){b=this.filter;c=a.length;const e=[];for(let d=0,f=0;d<c;d++){const g=a[d];g&&!b[g]&&(e[f++]=g)}a=e}return a}return a}const aa=/[\p{Z}\p{S}\p{P}\p{C}]+/u,ba=/[\u0300-\u036f]/g;
function H(a,b){const c=Object.keys(a),e=c.length,d=[];let f="",g=0;for(let h=0,k,m;h<e;h++)k=c[h],(m=a[k])?(d[g++]=I(b?"(?!\\b)"+k+"(\\b|_)":k),d[g++]=m):f+=(f?"|":"")+k;f&&(d[g++]=I(b?"(?!\\b)("+f+")(\\b|_)":"("+f+")"),d[g]="");return d}function F(a,b){for(let c=0,e=b.length;c<e&&(a=a.replace(b[c],b[c+1]),a);c+=2);return a}function I(a){return new RegExp(a,"g")}function J(a){let b="",c="";for(let e=0,d=a.length,f;e<d;e++)(f=a[e])!==c&&(b+=c=f);return b};var ca={encode:K,B:!1,C:""};function K(a){return E.call(this,(""+a).toLowerCase(),!1)};const da={},L={};function ea(a){M(a,"add");M(a,"append");M(a,"search");M(a,"update");M(a,"remove")}function M(a,b){a[b+"Async"]=function(){const c=this,e=arguments;var d=e[e.length-1];let f;"function"===typeof d&&(f=d,delete e[e.length-1]);d=new Promise(function(g){setTimeout(function(){c.async=!0;const h=c[b].apply(c,e);c.async=!1;g(h)})});return f?(d.then(f),this):d}};function fa(a,b,c,e){const d=a.length;let f=[],g,h,k=0;e&&(e=[]);for(let m=d-1;0<=m;m--){const p=a[m],u=p.length,r=y();let n=!g;for(let l=0;l<u;l++){const q=p[l],z=q.length;if(z)for(let C=0,A,x;C<z;C++)if(x=q[C],g){if(g[x]){if(!m)if(c)c--;else if(f[k++]=x,k===b)return f;if(m||e)r[x]=1;n=!0}if(e&&(h[x]=(A=h[x])?++A:A=1,A<d)){const G=e[A-2]||(e[A-2]=[]);G[G.length]=x}}else r[x]=1}if(e)g||(h=r);else if(!n)return[];g=r}if(e)for(let m=e.length-1,p,u;0<=m;m--){p=e[m];u=p.length;for(let r=0,n;r<u;r++)if(n=
p[r],!g[n]){if(c)c--;else if(f[k++]=n,k===b)return f;g[n]=1}}return f}function ha(a,b){const c=y(),e=y(),d=[];for(let f=0;f<a.length;f++)c[a[f]]=1;for(let f=0,g;f<b.length;f++){g=b[f];for(let h=0,k;h<g.length;h++)k=g[h],c[k]&&!e[k]&&(e[k]=1,d[d.length]=k)}return d};const ia={memory:{charset:"latin:extra",A:3,m:4,D:!1},performance:{A:3,m:3,s:!1,context:{depth:2,A:1}},match:{charset:"latin:extra",C:"reverse"},score:{charset:"latin:advanced",A:20,m:3,context:{depth:3,A:9}},"default":{}};function O(a,b){if(!(this instanceof O))return new O(a);var c;let e;a?(B(a)?a=ia[a]:(c=a.preset)&&(a=Object.assign({},c[c],a)),c=a.charset,e=a.lang,B(c)&&(-1===c.indexOf(":")&&(c+=":default"),c=L[c]),B(e)&&(e=da[e])):a={};let d,f,g=a.context||{};this.encode=a.encode||c&&c.encode||K;this.register=b||y();this.A=d=a.resolution||9;this.C=b=c&&c.C||a.tokenize||"strict";this.depth="strict"===b&&g.depth;this.h=v(g.bidirectional);this.s=f=v(a.optimize);this.D=v(a.fastupdate);this.m=a.minlength||1;this.F=
a.boost;this.map=f?w(d):y();this.o=d=g.resolution||1;this.l=f?w(d):y();this.B=c&&c.B||a.rtl;this.G=(b=a.matcher||e&&e.G)&&H(b,!1);this.H=(b=a.stemmer||e&&e.H)&&H(b,!0);if(a=b=a.filter||e&&e.filter){a=b;c=y();for(let h=0,k=a.length;h<k;h++)c[a[h]]=1;a=c}this.filter=a}t=O.prototype;t.append=function(a,b){return this.add(a,b,!0)};
t.add=function(a,b,c,e){if(b&&(a||0===a)){if(!e&&!c&&this.register[a])return this.update(a,b);b=this.encode(b);if(e=b.length){const m=y(),p=y(),u=this.depth,r=this.A;for(let n=0;n<e;n++){let l=b[this.B?e-1-n:n];var d=l.length;if(l&&d>=this.m&&(u||!p[l])){var f=P(r,e,n),g="";switch(this.C){case "full":if(3<d){for(f=0;f<d;f++)for(var h=d;h>f;h--)if(h-f>=this.m){var k=P(r,e,n,d,f);g=l.substring(f,h);Q(this,p,g,k,a,c)}break}case "reverse":if(2<d){for(h=d-1;0<h;h--)g=l[h]+g,g.length>=this.m&&Q(this,p,
g,P(r,e,n,d,h),a,c);g=""}case "forward":if(1<d){for(h=0;h<d;h++)g+=l[h],g.length>=this.m&&Q(this,p,g,f,a,c);break}default:if(this.F&&(f=Math.min(f/this.F(b,l,n)|0,r-1)),Q(this,p,l,f,a,c),u&&1<e&&n<e-1)for(d=y(),g=this.o,f=l,h=Math.min(u+1,e-n),d[f]=1,k=1;k<h;k++)if((l=b[this.B?e-1-n-k:n+k])&&l.length>=this.m&&!d[l]){d[l]=1;const q=this.h&&l>f;Q(this,m,q?f:l,P(g+(e/2>g?0:1),e,n,h-1,k-1),a,c,q?l:f)}}}}this.D||(this.register[a]=1)}}return this};
function P(a,b,c,e,d){return c&&1<a?b+(e||0)<=a?c+(d||0):(a-1)/(b+(e||0))*(c+(d||0))+1|0:0}function Q(a,b,c,e,d,f,g){let h=g?a.l:a.map;if(!b[c]||g&&!b[c][g])a.s&&(h=h[e]),g?(b=b[c]||(b[c]=y()),b[g]=1,h=h[g]||(h[g]=y())):b[c]=1,h=h[c]||(h[c]=[]),a.s||(h=h[e]||(h[e]=[])),f&&-1!==h.indexOf(d)||(h[h.length]=d,a.D&&(a=a.register[d]||(a.register[d]=[]),a[a.length]=h))}
function ja(a,b,c){if(B(a)&&"number"===typeof b&&0<b&&D(c)&&c.constructor!==Array)return{query:a||c.query,M:b,offset:c.offset||0,context:c.context,I:c.suggest};throw Error("Incorrect parameter types");}function la(a,b,c){b=a.encode(b);let e=b.length;if(1<e){const d=y(),f=[];for(let g=0,h=0,k;g<e;g++)if((k=b[g])&&k.length>=a.m&&!d[k])if(a.s||c||a.map[k])f[h++]=k,d[k]=1;else return;return f}return b}function ma(a){return{context:a.context,I:a.suggest,offset:a.context||0,L:a.query}}
t.search=function(a,b,c){let e=[];a&&b&&"number"===typeof b&&c&&D(c)?e.push(ja(a,b,c)):a&&b&&D(b)&&!c?(c=b,b=c.limit||100,e.push(ja(a,b,c))):a&&D(a)&&a.constructor!==Array&&!b&&!c?(c=a,b=c.limit||100,e.push(a)):!a||a.constructor!==Array||b||c||(c={},b=100,e=a);let d=[],f=e.length,{context:g,I:h,offset:k}=ma(c);if(1<f){e=la(this,e,h);if(!e)return d;f=e.length}if(0==f)return d;c=this.depth&&1<f&&!1!==g;let m=0,p;c?(p=a[0],m=1):1<f&&e.sort((u,r)=>r.query.length-u.query.length);for(;m<f;m++){let {I:u,
offset:r,L:n}=ma(e[m]);b=e[m].limit||b||100;c?(a=na(this,d,u,b,r,2===f,n,p),u&&!1===a&&d.length||(p=n)):a=na(this,d,u,b,r,1===f,n);if(a)return a;if(u&&m===f-1){a=d.length;if(!a){if(c){c=0;m=-1;continue}return d}if(1===a)return oa(d[0],b,r)}}return fa(d,b,k,h)};
function na(a,b,c,e,d,f,g,h){let k=[],m=h?a.l:a.map;a.s||(m=pa(m,g,h,a.h));if(m){let p=0;const u=Math.min(m.length,h?a.o:a.A);for(let r=0,n=0,l,q;r<u;r++)if(l=m[r])if(a.s&&(l=pa(l,g,h,a.h)),d&&l&&f&&(q=l.length,q<=d?(d-=q,l=null):(l=l.slice(d),d=0)),l&&(k[p++]=l,f&&(n+=l.length,n>=e)))break;if(p){if(f)return oa(k,e,0);b[b.length]=k;return}}return!c&&k}function oa(a,b,c){a=1===a.length?a[0]:[].concat.apply([],a);return c||a.length>b?a.slice(c,c+b):a}
function pa(a,b,c,e){c?(e=e&&b>c,a=(a=a[e?b:c])&&a[e?c:b]):a=a[b];return a}t.contain=function(a){return!!this.register[a]};t.update=function(a,b){return this.remove(a).add(a,b)};t.remove=function(a,b){const c=this.register[a];if(c){if(this.D)for(let e=0,d;e<c.length;e++)d=c[e],d.splice(d.indexOf(a),1);else R(this.map,a,this.A,this.s),this.depth&&R(this.l,a,this.o,this.s);b||delete this.register[a]}return this};
function R(a,b,c,e,d){let f=0;if(a.constructor===Array)if(d)b=a.indexOf(b),-1!==b?1<a.length&&(a.splice(b,1),f++):f++;else{d=Math.min(a.length,c);for(let g=0,h;g<d;g++)if(h=a[g])f=R(h,b,c,e,d),e||f||delete a[g]}else for(let g in a)(f=R(a[g],b,c,e,d))||delete a[g];return f}ea(O.prototype);function T(a){if(!(this instanceof T))return new T(a);var b=a.document||a.doc||a,c;this.F=[];this.h=[];this.o=[];this.register=y();this.key=(c=b.key||b.id)&&U(c,this.o)||"id";this.D=v(a.fastupdate);this.l=(c=b.store)&&!0!==c&&[];this.store=c&&y();this.async=!1;c=y();let e=b.index||b.field||b;B(e)&&(e=[e]);for(let d=0,f,g;d<e.length;d++)f=e[d],B(f)||(g=f,f=f.field),g=D(g)?Object.assign({},a,g):a,this.J||(c[f]=new O(g,this.register)),this.F[d]=U(f,this.o),this.h[d]=f;if(this.l)for(a=b.store,B(a)&&(a=
[a]),b=0;b<a.length;b++)this.l[b]=U(a[b],this.o);this.index=c}function U(a,b){const c=a.split(":");let e=0;for(let d=0;d<c.length;d++)a=c[d],0<=a.indexOf("[]")&&(a=a.substring(0,a.length-2))&&(b[e]=!0),a&&(c[e++]=a);e<c.length&&(c.length=e);return 1<e?c:c[0]}function qa(a,b){if(B(b))a=a[b];else for(let c=0;a&&c<b.length;c++)a=a[b[c]];return a}
function V(a,b,c,e,d){a=a[d];if(e===c.length-1)b[d]=a;else if(a)if(a.constructor===Array)for(b=b[d]=Array(a.length),d=0;d<a.length;d++)V(a,b,c,e,d);else b=b[d]||(b[d]=y()),d=c[++e],V(a,b,c,e,d)}function W(a,b,c,e,d,f,g,h){if(a=a[g])if(e===b.length-1){if(a.constructor===Array){if(c[e]){for(b=0;b<a.length;b++)d.add(f,a[b],!0,!0);return}a=a.join(" ")}d.add(f,a,h,!0)}else if(a.constructor===Array)for(g=0;g<a.length;g++)W(a,b,c,e,d,f,g,h);else g=b[++e],W(a,b,c,e,d,f,g,h)}t=T.prototype;
t.add=function(a,b,c){D(a)&&(b=a,a=qa(b,this.key));if(b&&(a||0===a)){if(!c&&this.register[a])return this.update(a,b);for(let e=0,d,f;e<this.h.length;e++)f=this.h[e],d=this.F[e],B(d)&&(d=[d]),W(b,d,this.o,0,this.index[f],a,d[0],c);if(this.store&&(!c||!this.store[a])){let e;if(this.l){e=y();for(let d=0,f;d<this.l.length;d++)f=this.l[d],B(f)?e[f]=b[f]:V(b,e,f,0,f[0])}this.store[a]=e||b}}return this};t.append=function(a,b){return this.add(a,b,!0)};t.update=function(a,b){return this.remove(a).add(a,b)};
t.remove=function(a){D(a)&&(a=qa(a,this.key));if(this.register[a]){for(let b=0;b<this.h.length&&(this.index[this.h[b]].remove(a,!this.J),!this.D);b++);this.store&&delete this.store[a];delete this.register[a]}return this};
t.search=function(a,b,c,e){c||(!b&&D(a)?(c=a,a=c.query):D(b)&&(c=b,b=0));let d=[],f=[],g,h,k,m,p,u,r=0;if(c)if(c.constructor===Array)k=c,c=null;else{k=(g=c.pluck)||c.index||c.field;m=!1;h=this.store&&c.enrich;p="and"===c.bool;b=c.limit||100;u=c.offset||0;if(m&&(B(m)&&(m=[m]),!a)){for(let l=0,q;l<m.length;l++)if(q=ra.call(this,m[l],b,u,h))d[d.length]=q,r++;return r?d:[]}B(k)&&(k=[k])}k||(k=this.h);p=p&&(1<k.length||m&&1<m.length);const n=!e&&(this.J||this.async)&&[];for(let l=0,q,z,C;l<k.length;l++){let A;
z=k[l];B(z)||(A=z,z=z.field);if(n)n[l]=this.index[z].searchAsync(a,b,A||c);else{e?q=e[l]:q=this.index[z].search(a,b,A||c);C=q&&q.length;if(m&&C){const x=[];let G=0;p&&(x[0]=[q]);for(let S=0,ka,N;S<m.length;S++)if(ka=m[S],C=(N=this.K[ka])&&N.length)G++,x[x.length]=p?[N]:N;G&&(q=p?fa(x,b||100,u||0):ha(q,x),C=q.length)}if(C)f[r]=z,d[r++]=q;else if(p)return[]}}if(n){const l=this;return new Promise(function(q){Promise.all(n).then(function(z){q(l.search(a,b,c,z))})})}if(!r)return[];if(g&&(!h||!this.store))return d[0];
for(let l=0,q;l<f.length;l++){q=d[l];q.length&&h&&(q=sa.call(this,q));if(g)return q;d[l]={field:f[l],result:q}}return d};function ra(a,b,c,e){let d=this.K[a],f=d&&d.length-c;if(f&&0<f){if(f>b||c)d=d.slice(c,c+b);e&&(d=sa.call(this,d));return{tag:a,result:d}}}function sa(a){const b=Array(a.length);for(let c=0,e;c<a.length;c++)e=a[c],b[c]={id:e,doc:this.store[e]};return b}t.contain=function(a){return!!this.register[a]};t.get=function(a){return this.store[a]};t.set=function(a,b){this.store[a]=b;return this};
ea(T.prototype);var ua={encode:ta,B:!1,C:""};const va=[I("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),"a",I("[\u00e8\u00e9\u00ea\u00eb]"),"e",I("[\u00ec\u00ed\u00ee\u00ef]"),"i",I("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),"o",I("[\u00f9\u00fa\u00fb\u00fc\u0171]"),"u",I("[\u00fd\u0177\u00ff]"),"y",I("\u00f1"),"n",I("[\u00e7c]"),"k",I("\u00df"),"s",I(" & ")," and "];function ta(a){var b=a=""+a;b.normalize&&(b=b.normalize("NFD").replace(ba,""));return E.call(this,b.toLowerCase(),!a.normalize&&va)};var xa={encode:wa,B:!1,C:"strict"};const ya=/[^a-z0-9]+/,za={b:"p",v:"f",w:"f",z:"s",x:"s","\u00df":"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function wa(a){a=ta.call(this,a).join(" ");const b=[];if(a){const c=a.split(ya),e=c.length;for(let d=0,f,g=0;d<e;d++)if((a=c[d])&&(!this.filter||!this.filter[a])){f=a[0];let h=za[f]||f,k=h;for(let m=1;m<a.length;m++){f=a[m];const p=za[f]||f;p&&p!==k&&(h+=p,k=p)}b[g++]=h}}return b};var Ba={encode:Aa,B:!1,C:""};const Ca=[I("ae"),"a",I("oe"),"o",I("sh"),"s",I("th"),"t",I("ph"),"f",I("pf"),"f",I("(?![aeo])h(?![aeo])"),"",I("(?!^[aeo])h(?!^[aeo])"),""];function Aa(a,b){a&&(a=wa.call(this,a).join(" "),2<a.length&&(a=F(a,Ca)),b||(1<a.length&&(a=J(a)),a&&(a=a.split(" "))));return a||[]};var Ea={encode:Da,B:!1,C:""};const Fa=I("(?!\\b)[aeo]");function Da(a){a&&(a=Aa.call(this,a,!0),1<a.length&&(a=a.replace(Fa,"")),1<a.length&&(a=J(a)),a&&(a=a.split(" ")));return a||[]};L["latin:default"]=ca;L["latin:simple"]=ua;L["latin:balance"]=xa;L["latin:advanced"]=Ba;L["latin:extra"]=Ea;const X=self;let Y;const Z={Index:O,Document:T,Worker:null,registerCharset:function(a,b){L[a]=b},registerLanguage:function(a,b){da[a]=b}};(Y=X.define)&&Y.amd?Y([],function(){return Z}):X.exports?X.exports=Z:X.FlexSearch=Z;}(this));
